import{r as o,j as t,B as g}from"./index-CoPZA5su.js";import{I as l}from"./Input-Bmocq71h.js";function y(){const u="https://e85e02aa-d185-4560-9fe4-a94a4de18cb3-00-2tg1cyjqwpzsf.pike.replit.dev",[a,m]=o.useState({name:"",email:"",phone:"+977 ",message:""}),[s,d]=o.useState({}),[c,r]=o.useState(""),n=e=>{m(i=>({...i,[e.target.name]:e.target.value}))},h=()=>{const e={};return a.name.trim()||(e.name="Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(e.email="Email is invalid"):e.email="Email is required",a.phone.trim()?a.phone.startsWith("+977")||(e.phone="Phone must start with +977"):e.phone="Phone is required",a.message.trim()?a.message.length<10&&(e.message="Message must be at least 10 characters"):e.message="Message is required",d(e),Object.keys(e).length===0},p=async e=>{if(e.preventDefault(),!!h())try{(await fetch(`${u}/api/email/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(r("Message sent!"),m({name:"",email:"",phone:"+977 ",message:""}),d({})):r("Failed to send message.")}catch(i){console.log("Something went wrong:",i),r("Something went wrong. Please try again.")}finally{setTimeout(()=>r(""),3e3)}};return t.jsxs("form",{className:"grid gap-y-[30px]",onSubmit:p,children:[t.jsx(l,{name:"name",placeholder:"Name",value:a.name,onChange:n,required:!0}),s.name&&t.jsx("p",{className:"text-red-500 text-sm",children:s.name}),t.jsx(l,{name:"email",placeholder:"Email",type:"email",value:a.email,onChange:n,required:!0}),s.email&&t.jsx("p",{className:"text-red-500 text-sm",children:s.email}),t.jsx(l,{name:"phone",placeholder:"Phone Number",type:"text",value:a.phone,onChange:n,required:!0}),s.phone&&t.jsx("p",{className:"text-red-500 text-sm",children:s.phone}),t.jsx("textarea",{name:"message",placeholder:"Message",value:a.message,onChange:n,required:!0,className:`w-full h-[162px]\r
          px-4 py-3\r
          rounded-lg border\r
          bg-[#BFBFBF]\r
          text-white\r
          border-gray-300 \r
          placeholder-white\r
          focus:outline-none focus:ring-2\r
          focus:ring-gray-300 \r
          focus:border-transparent\r
          transition-all duration-200 ease-in-out\r
          disabled:opacity-50 disabled:cursor-not-allowed`}),s.message&&t.jsx("p",{className:"text-red-500 text-sm",children:s.message}),t.jsx(g,{variant:"outline",children:"Send"}),c&&t.jsx("p",{className:"text-sm text-gray-700",children:c})]})}export{y as default};
